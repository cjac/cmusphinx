<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">

<!--

Copyright 1999-2006 Carnegie Mellon University.
All Rights Reserved.  Use is subject to license terms.

See the file "license.terms" for information on usage and
redistribution of this file, and for a DISCLAIMER OF ALL
WARRANTIES.

-->

<html>
<head>
  <title>EvalDictator - Open Source Dictation using Sphinx-4</title>
<STYLE TYPE="text/css">
     pre { font-size: medium; background: #f0f8ff; padding: 2mm; border-style: ridge ; color: teal}
     code {font-size: medium; color: teal}
     s4keyword { color: red; font-weight: bold }
</STYLE></head>

<body bgcolor="white">
  <center>
    <table bgcolor="#99CBFF" border="0" width="100%">
      <tbody>
        <tr>
	  <td align="center" width="100%">
          <h1><i>EvalDictator</i><br><font size="+1">Open Source Dictation using Sphinx-4
          </h1>
	  </td>
        </tr>
      </tbody>
    </table>
  </center>
  <font face="Arial" size="2">

  <table border="0" width="100%">
    <tbody>
      <tr>
        <td bgcolor="#F0F8FF" valign="top" width="20%">
          <br>
	  <b><font>EvalDictator Links</font></b>
          <p>
	  <font size="-1">
          <p>
          <a href="http://evaldictator.org">EvalDictator</a>
          </p>
	  <p>
	  <a href="http://evaldictator.org/javadoc/index.html">Dictator Javadocs</a>
          </p>
          <p>
          <a href="http://cmusphinx.org/twiki/bin/view/EvalDictator/WebHome">EvalDictator TWiki</a>
          </p>
          <p><a href="http://cmusphinx.org/download/nightly/tools.tar.gz">Download tarball</a>
          </p>
          <p><a href="http://cmusphinx.org/download/nightly/tools.jar">Download JAR</a>
          </p>
          <p>
          <a href="http://cmusphinx.org/sphinx4">Sphinx-4</a>
          </p>
	  <p>
	  <a href="http://cmusphinx.org">CMU Sphinx</a>
	  </p>
	  <p>SourceForge</p>
          <ul>
	  <li><a href="http://sourceforge.net/projects/cmusphinx">Project Page</a>
          <li><a href="https://sourceforge.net/forum/?group_id=1904">Forums</a>
          <li><a href="http://sourceforge.net/svn/?group_id=1904">SVN Repository</a>
          </ul>
      <hr>
      	  <br><br>
          <center><a href="http://www.sourceforge.net">
          <img src="http://sourceforge.net/sflogo.php?group_id=1904&amp;type=1"
          width="88" height="31" border="0" alt="SourceForge Logo"></a>
          <br>Hosted by SourceForge.net</center>
          <br><br>
          <center>
          <a href="http://www.jetbrains.com/idea/" style="display:block; width:88px; height:31px; border:0; margin:0;padding:0;text-decoration:none;text-indent:0;"><img src="http://www.jetbrains.com/idea/opensource/img/banners/idea88x31_blue.gif" alt="The best Java IDE" border="0"/></a>
	      Developed with IntelliJ
	      <br><br>
	      Profiled with <a href="http://www.ej-technologies.com/products/jprofiler/overview.html"/>JProfiler</a>
          </center>
          </font></b></td>

      <td width="5%"><br>
      </td>

      <td valign="top"><br>
      <h3>General Information</h3>
      <ul>
        <li><a href="#what_is_dictator">Introduction</a></li>
        <li><a href="#capabilities">Capabilities</a></li>
      </ul>

      <h3>Installation</h3>
      <h4>Not Using an IDE</h4>
      <ul>
	<li><a href="#download_and_install">Required Software</a></li>
	<li><a href="#source">Downloading the EvalDictator</a></li>
	<li><a href="#how_build">Building the EvalDictator</a></li>
	<li><a href="#create_javadocs">Creating Javadocs</a></li>
	<li><a href="#troubleshooting">Troubleshooting</a></li>
      </ul>
      <h4>Using an IDE (forthcoming)</h4>
      <ul>
    <li><a href="doc/IntelliJ.html">IntelliJ</a></li>
    <li><a href="doc/Eclipse.html">Eclipse</a></li>
	<li><a href="doc/NetBeans.html">NetBeans</a></li>
      </ul>

      <h3>EvalDictator in Detail</h3>
      <ul>
      </ul>


      <p>
      <br>
      <font size="-1">
      <b>NOTE</b>: This page contains links to javadocs. If the links
      are broken, you should either follow instructions in <a
      href="#create_javadocs">Creating Javadocs</a>, or view this page
      on line at <a href="http://www.evaldictator.org/">
      http://www.evaldictator.org/</a>.
      </font>

      <p>

      </td>
    </tr>
  </tbody>
</table>

<hr>

<h2>General Information about the EvalDictator</h2>
<ul>
  <li><a name="what_is_dictator"><b>Introduction</b></a>
  <p>
    EvalDictator team consists of many senior people from CMU, MERL,
    NIH, Sun and ex-Dragon.
<p>
    Our overall goal is to encourage a new generation of speech
    recognition research and entrepreneurs by releasing state of the art open source
    speech technology, and making massive amounts of speech data freely
    available. Currently, speech recognition technology is only available
    from a handful of very large companies. Licensing and customizing this
    technology is very expensive and involves onerous and lengthy
    negotiations. We believe that is a barrier to innovation in this
    market.
<p>
    In order to achieve these ends, we want to popularize speech
    recognition technology by building open source applications. These tools will be
    written in Java and will run on every major platform including
    Windows, OSX and Linux. Our target is computer users who wish to enter text in
    their native language, and prefer speech to the keyboard. These users
    may be professionals who require hands free text entry. For example,
    many Doctors prefer to enter reports via dictation. Another target is
    users who find it difficult to type text in their native language. For
    example, in many countries users must memorize many complicated key
    combination to enter basic text. Large countries ( e.g. China,
    Japan...) and countless smaller ethnic groups have this problem.
<p>
    We also want to collect a huge corpus of speech and language data.
    This data will be used for speech research, and to further improve the
    EvalDictator technology. EvalDictator differs from standard Desktop
    dictation products such as NaturallySpeaking and ViaVoice because
    speaker adaptation and custom pronunciation dictionaries are performed
    as an Internet service. The speech and language data used to build
    custom models for individual users will be stored and used to improve
    the general models for everyone. EvalDictator applications will
    automatically update themselves as new models become available. The
    result is that the accuracy of EvalDictator applications will
    improve as more people use them.
<p>
    We strongly believe that technology should be application driven. In
    other words, we want to solve real problems using speech recognition
    applications, and only extend the core technology as required by
    those applications. The domain of speech recognition is far too big for
    us to address all at once, so we want to focus on the tasks that will
    make the technology popular and successful.
<p>
    Finally, we are seeking support and funding. Collecting and storing
    massive amounts of audio data will require a serious
    infrastructure. We will need machines, storage, backup and a fat connection to the
    Internet. We will also need people to maintain the system. Also, if we
    afford to work on our software full time we can make much more rapid
    progress. Therefore we are seeking customers who require a custom
    solution that is not available from the existing vendors.
<p>
    Therefore, we are currently building general tools, but looking for
    vertical domains. We want to release focused applications that
    solve a problem for some set of users. We hope to build our "Eval Empire" one
    happy user group at a time.
<p>
    EvalDictator source code is free and open source with an "Apache"
    style license. The code may be used in proprietary products, even if the
    products are not open source. The source code will be publicly
    available on SourceForge.net. EvalDictator will contain no patented IP.
<p>
    The acoustic and language models are also free, however, they need not
    be built from publicly available speech data, or be built by publicly
    available tools. In this way companies and researchers can donate
    "eval" models to the project while keeping the data and tools proprietary.<p>
  </li>
  <br>&nbsp;
  <li><a name="capabilities"><b>Capabilities</b></a>
<p>
Currently, there is a complete working prototype code named "HumbleBeginnings".
<p>
HumbleBeginnings is written in 100% Java, and consists of two parts: the Dictator and the Collector.
<p>
The Dictator is a desktop application that performs Dictation via automatic speech recognition.  It is based on the Sphinx4 recognizer from Carnegie Mellon.  Sphinx4 is a state-of-the-art large vocabulary recognizer.  The accuracy is as good as anything, and the size and speed are sufficient for a modern PC.  It currently supports English, Arabic and Mandarin using the Wall Street Journal and GALE models.
<p>
The Dictator UI is very simple.  It is merely a text pane, where the user can insert text by speaking.  The user simply selects the insert position with the mouse, clicks and holds while talking, and the text is inserted.  The complete text is automatically placed on the clipboard.  The user then goes to his/her favorite application (e.g. Word, Excel, OpenOffice), pastes the text and completes editing.
<p>
The Collector is a server based web application that creates custom dictionaries, language models and acoustic models.  Users upload a collection of their own documents to the server.  They are then asked to read a selection of their own text out load.  The Collector then automatically creates a version of Dictator customized to their voice, language and vocabulary.  Users may offer to donate this data to the project in order to improve future versions, otherwise it is deleted.
<p>
HumbleBeginnings is very early in its development.  Dictator has very poor performance-- it is big, slow, inaccurate, and also has no command and control, no editing, no adaptation, and no vocabulary editor.  The Collector is in development and not yet ready to process data.  The team is discussing what techniques and features need to be implemented.
<p>
(<b>NOTE:</b> The links in this section point to local files created by
      javadoc. If they are broken, please follow the instructions on
      <a href="#create_javadocs">Creating Javadocs</a> to create these links.)
  </li>

  <br>&nbsp;

<hr>

<h2>Installation</h2>

<ul>

<li><a name="download_and_install"><b>Required Software</b></a>

      <p>EvalDictator has been built and tested on the Solaris<sup> <font
      size="-1">TM</font></sup> Operating Environment, Mac OS X, Linux
      and Win32 operating systems. Running, building, and testing
      EvalDictator requires additional software. Before you start,
      you will need the following software available on your machine.</p>

<ul>
  <li><b>Java 2 SDK, Standard Edition 5.0</b> or better.
      Go to <a href="http://java.sun.com">java.sun.com</a>,
      and select "J2SE". At the time of writing, the latest release
      version is 5.0 (also referred to as 1.5.0), which is the one we
      recommend.
      </li>

  <br>

  <li><b>Ant 1.6.0</b> or better, available at <a
  href="http://ant.apache.org">ant.apache.org</a>. The site has a manual
  with instructions on how to download, install, and use <code>ant</code>.  You
  will only need ant if you wish to build EvalDictator from the source
  distribution and prefer it to <code>scons</code>.</li>

  <br>
  <li><b>Scons</b> alternatively, available at <a
  href="http://www.scons.org">scons.org</a>. The site has a manual
  with instructions on how to download, install, and use
  <code>scons</code>. You will need it if you wish to build
  EvalDictator from the source distribution and prefer it to
  <code>ant</code>. <code>scons</code> requires you to also install
  <code>Python</code>, available at <a
  href="http://python.org">python.org</a>, if you do not already have
  it. </li>
  <br>

  <li> <b>Subversion (svn)</b>, but only if you want to interact directly
  with the svn tree (which we recommend). The canonical places to get
  it is <a
  href="http://subversion.tigris.org/">subversion.tigris.org</a>. If
  you are using Windows, your best choice is to install <a
  href="http://cygwin.com">cygwin</a>, which will give you a
  linux-like environment in a command prompt window. Make sure to
  choose "svn" when you install cygwin.
  </li>
</ul>

  </li>

<br>&nbsp;

  <li>
  <a name="source"><b>Downloading EvalDictator</b></a>
  <br>&nbsp;
      <ul>
      <li><a name="nightly"><b>Instructions for retrieving code from
      the nightly build</b></a> <p>A tarball is built nightly, and it
      is available at <a
      href="http://cmusphinx.org/download/nightly/tools.tar.gz">cmusphinx.org</a>. Alternatively,
      you can download the <a
      href="http://cmusphinx.org/download/nightly/dictator.jar">JAR
      file</a>.
      </li>

      <li><a name="cvs"><b>Instructions for retrieving code from the svn repository</b></a>

      <p>If you want to be able to get the latest updates from the svn
      repository, you should retrieve the code from the repository on
      SourceForge. The EvalDictator code is located at <a
      href="http://sourceforge.net/projects/cmusphinx">sourceforge.net
      </a> as open source. Please follow the instructions below to
      retrieve it.</p>

          <ul>
	  <li>Get the code from sourceforge.net:
<pre>
% svn co https://cmusphinx.svn.sourceforge.net/svnroot/cmusphinx/trunk/tools
</pre>
	  </li>
          <li>If you want to compile code using <code>scons</code>, you will also need to download the scons folder:
<pre>
% svn co https://cmusphinx.svn.sourceforge.net/svnroot/cmusphinx/trunk/scons
</pre>
          </li>
    </ul>
    </li>

    </ul>
    </li>
<br>

  <li><a name="how_build"><b>Building EvalDictator</b></a>

      The software required for building EvalDictator are listed in
      the <a href="#download_and_install">Required Software</a>
      section. Set your <code>JAVA_HOME</code> and <code>PATH</code>
      environment variables as described in the <a
      href="#troubleshooting">troubleshooting</a> section.
      </p>
      <ul>
         <li>If you are using <code>ant</code>, also set
         <code>ANT_HOME</code> according to their site's
         instructions.
      <p>
      To build EvalDictator, at the command prompt change to the
      dictator build directory (usually, a simple "cd
      tools/dictator/build" will do). Then type the following:
      </p>
      <pre>ant</pre>
    <p>
    This executes the <a href="http://ant.apache.org/">Apache Ant</a>
    command to build the EvalDictator classes under the <code>bld</code>
    directory, the jar files under the <code>lib</code> directory,
    and the demo jar files under the <code>bin</code> directory.
    </p>
    <p>
    To delete all the output from the build to give you a fresh start:
    <pre>ant clean</pre>
    </li>
    <li>If you are using <code>scons</code>, at the command prompt change to the
      scons build directory (usually, a simple "cd
      scons" will do). Then type the following:
      </p>
      <p>In Linux, Mac OS X, etc:
      <pre>scons.py</pre>
      </p>
      <p>In Windows:
      <pre>scons.bat</pre>
      </p>
    <p>
    This executes the <a href="http://scons.org/">Scons</a>
    command to build the EvalDictator classes under the <code>../../scons_build/classes</code>
    directory, the jar files under the <code>../../scons_build/jars</code> directory,
    and the demo jar files under the <code>../../scons_ship</code> directory.
    </p>
    <p>
    To delete all the output from the build to give you a fresh start:
    <pre>scons -c</pre>

    </li>
</ul>
   </li>

  <br>

<li><a name="create_javadocs"><b>Creating Javadocs</b></a>

<p>To build the
javadocs, go to the dictator build directory (tools/dictator/build), and type:
</p>
<pre>ant javadoc</pre>
<p>This will build javadocs from public classes, displaying only the public methods and fields. In general, this is all the information you will need. If you need more details, such as private or protected classes, you can generate the corresponding javadoc by doing, for example:
</p>
<pre>ant -Daccess=private javadoc</pre>

</li>

<br>&nbsp;

<li><a name="troubleshooting"><b>Troubleshooting</b></a><br>&nbsp;
<ol>
  <li>How can I specify the location of the Java JDK?
    <ul>

      <li>Using the JAVA_HOME environment variable. For the different
      versions of OS, do:
        <ul>
          <li>
            Unix (t)csh: <code>setenv JAVA_HOME /lab/speech/java/jdk1.5.0_06</code>
          </li>
          <li>
            Unix (ba)sh: <code>export JAVA_HOME='/lab/speech/java/jdk1.5.0_06'</code>
          </li>

          <li>
            Windows/cygwin: <code>export JAVA_HOME='c:/Progra~1/Java/jdk1.5.0_06'</code>
          </li>
        </ul>
      </li>
    </ul>
  </li>

  <br>

  <li>How can I update the code in my current working copy?
    <ul>

      <li>If you are using svn, you can do a "svn up".</li>
    </ul>
  </li>

  <br>

  <li>I get a "timeout" message when I try to download/update
  the svn repository.
    <ul>
      <li>Sometimes the servers at SourceForge.net are very busy. There's no way around it: just try again. svn will take up where it left off in the previous attempt.
      </li>
    </ul>
  </li>
  <br>
  <li>I get the message "AttributeError: SConsEnvironment instance has no attribute 'Java'" when I use Scons. What's the problem?</li>
  <ul>
    <li>The java compiler javac is not in your <code>PATH</code>
    variable. If you are not familiar with this environmental
    variable, <code>PATH</code> contains the set of folders that the
    operating system uses to find the executables. You have to add the
    path containing javac to your <code>PATH</code> variable. In
    Windows, you can do this by following the <a
    href="#winenv">instructions</a> to change the variable <code>PATH</code>

    </li>
  </ul>
</li>
  <br>

  <li><a name="cygwin">What are the limitations/hacks if I am using
  cygwin?</a>
  <ul>
    <li>Make sure that you install "svn" when you install
    cygwin. If you do not want to go through the list of packages
    trying to decide what you need, installing everything is a good
    solution.
    </li>
    <br>
    <li>Cygwin does not define a home directory, which is used by
    svn. You have to explicitly define it. You are better off creating
    an environment variable HOME, which will be used by every cygwin
    window that you open. Follow the <a
    href="#winenv">instructions</a> to create this variable on
    Windows. After creating the environmental variable, when you start
    a new cygwin window, if you type "echo $HOME", you should get your
    home directory, e.g. "/home/johndoe".
    </li>
    <br>
    <li>Handling absolute paths: Cygwin interprets directory paths in
    a unix-like way, relative to its own "root" directory (which
    cygwin sees as "/" but Windows sees as "c:\cygwin"). However, the
    Java platform interprets directory paths via the operating
    system. Therefore, absolute paths, such as "/lab/speech", will be
    interpreted differently by cygwin and by the Java platform. One
    workaround is to keep the absolute path in Windows (e.g.
    "c:\lab\") and create a link, in cygwin, from that location (such
    as "ln -s /cygdrive/c/lab /lab"). If you use absolute paths to
    identify data location and the directories are not setup this way,
    you may encounter error messages such as:
    </li>
    <pre>
d:\work\sphinx4&gt;ant clean
/c: Can't open /c: No such file or directory
</pre>
    <li>Handling DOS 8.3 filename format: Since cygwin deals with unix
    and DOS filename formats at the same time, filenames in different
    files (e.g., build.xml, .props file) have different
    requirements. Paths interpreted directly by cygwin can be as long
    as you want. Paths passed to the program, though, conform to the
    8.3 convention of DOS filenames. Therefore you have to define the
    path to, say, junit as something like
    /lab/speech/ThirdP~1/junit3.7, since this string is passed from
    the environment to the Java code to the OS. </li>
  </ul>
</li>
<br>
  <li><a name="winenv">How do I create or change an environmental variable in Windows?

    <ul>
      <li>Creating a variable
        <ul>
            <li>Assume you want to create the environmental variable
            <code>HOME</code>, your userid is "johndoe", and you want
            to set this variable to "/home/johndoe"
            </li>
            <li>Right click on the "My Computer" icon. If you do not
            have a "My Computer" icon, click on the "Start" menu, then
            on "Control Panel", "Performance and Maintenance", and
            finally "System"
            </li>
            <li>On the menu, click on "Properties"
            </li>
            <li>Click the "Advanced" tab
            </li>
            <li>Select "Environment Variables"
            </li>
            <li>Click "New" on the "User variables for johndoe" box
            </li>

            <li>On "Variable Name", type <code>HOME</code>
            </li>
            <li>On "Variable Value", type <code>c:\cygwin\home\johndoe</code>
            </li>
            <li>Click on "Ok" in all windows you just opened to
            confirm the change
            </li>
        </ul>
      </li>
      <li>Changing a variable
        <ul>
            <li>Assume you want to modify the environmental
            variable <code>PATH</code>
            </li>
            <li>Right click on the "My Computer" icon. If you do not
            have a "My Computer" icon, click on the "Start" menu, then
            on "Control Panel", "Performance and Maintenance", and
            finally "System"
            </li>
            <li>On the menu, click on "Properties"
            </li>
            <li>Click the "Advanced" tab
            </li>
            <li>Select "Environment Variables"
            </li>
            <li>Look for the variable in either the "User variables
            for johndoe" box or the "System variables"
            box. Particularly, <code>PATH</code> will be in the
            "System variables" box.
            </li>
            <li>Click and the property name, and hit "Edit" on the
            corresponding box
            </li>
            <li>On "Variable Value", make the change, e.g. adding
            <code>;c:\python24\bin</code> to the end of the string
            </li>
            <li>Click on "Ok" in all windows you just opened to
            confirm the change
            </li>
        </ul>
    </li>
    </ul>
  </li>
  <br>

 </ol>
</ul>

<hr>


<hr>


<h2>EvalDictator in Detail</h2>
  <ul>
  <li>Under construction.
  </li>

<br>&nbsp;



<hr>

Copyright 1999-2006 Carnegie Mellon University.<br>
All Rights Reserved.  Usage is subject to
<a href="license.terms">license terms</a>.

</font>
</body>
</html>
